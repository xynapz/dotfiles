#+TITLE: Doom Emacs Modules
#+AUTHOR: Angel Dhakal
#+STARTUP: overview
#+OPTIONS: toc:2

* Configuration Files

| File           | Purpose              |
|----------------+----------------------|
| =init.el=      | Module selection     |
| =config.el=    | Custom configuration |
| =packages.el=  | Additional packages  |

* Languages (with LSP + Tree-sitter)

| Module     | Server          | Formatter     |
|------------+-----------------+---------------|
| Python     | pyright         | black/ruff    |
| Go         | gopls           | goimports     |
| C/C++      | clangd          | clang-format  |
| Rust       | rust-analyzer   | rustfmt       |
| JS/TS      | tsserver        | prettier      |
| HTML/CSS   | vscode-ls       | prettier      |
| YAML       | yaml-ls         | -             |
| Terraform  | terraform-ls    | terraform fmt |
| Bash       | shellcheck      | shfmt         |

* Python & Flask

** Pyright (LSP)

Pyright is enabled via =(python +lsp +pyright +tree-sitter)= in init.el.

Features:
- Type checking
- Completion with types
- Go to definition
- Auto-detect .venv

** Jinja2 Templates

HTML files auto-detect Jinja2 syntax via =web-mode=.
Files: =.html=, =.jinja=, =.jinja2=, =.j2=

** Venv Integration

Config auto-activates =.venv= in project root:
1. Open Python file
2. =.venv= detected and activated
3. Pyright uses correct interpreter

* Custom Packages

| Package          | Purpose              |
|------------------+----------------------|
| catppuccin-theme | Theme option         |
| consult-lsp      | LSP + consult        |
| pyvenv           | Python venv mgmt     |
| vterm-toggle     | Toggle terminal      |
| nginx-mode       | Nginx configs        |
| dotenv-mode      | .env files           |
| web-mode         | Jinja2/HTML          |

* Themes

| Theme              | Description          |
|--------------------+----------------------|
| xz-nord            | Custom dark Nord     |
| catppuccin         | Pastel (macchiato)   |

* Formatting

Doom's =+format= module (format-on-save).

Commands:
- =SPC c f= - Format buffer
- Automatic on save (=+onsave= flag)

Disable for specific modes:
#+begin_src elisp
(add-hook! 'some-mode-hook (format-on-save-mode -1))
#+end_src
