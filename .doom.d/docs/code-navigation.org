#+TITLE: Code Navigation
#+AUTHOR: Angel Dhakal
#+STARTUP: overview
#+OPTIONS: toc:2

* Quick Reference

| Key         | Action                   |
|-------------+--------------------------|
| =gd=        | Go to definition         |
| =gD=        | Find references          |
| =K=         | Hover documentation      |
| =SPC c a=   | Code actions             |
| =SPC c r=   | Rename symbol            |
| =SPC c f=   | Format buffer            |
| =SPC /=     | Search project (ripgrep) |

* Go-to Keys (Normal Mode)

These are Evil bindings in normal mode:

| Key   | Function                  | Action                   |
|-------+---------------------------+--------------------------|
| =gd=  | =+lookup/definition=      | Go to definition         |
| =gD=  | =+lookup/references=      | Find all references      |
| =K=   | =+lookup/documentation=   | Show docs for symbol     |
| =gr=  | =+eval:region=            | Evaluate/send to REPL    |
| =gQ=  | =+format:region=          | Format region            |

/Note: In standard Vim, =gr= is references. In Doom, it's eval. Use =gD= for references./

* Code Menu (SPC c)

| Key       | Action                    |
|-----------+---------------------------|
| =SPC c a= | LSP code actions          |
| =SPC c d= | Jump to definition        |
| =SPC c D= | Jump to references        |
| =SPC c f= | Format buffer/region      |
| =SPC c i= | Find implementations      |
| =SPC c k= | Jump to documentation     |
| =SPC c r= | LSP Rename                |
| =SPC c t= | Find type definition      |
| =SPC c x= | List errors/diagnostics   |
| =SPC c j= | Jump to symbol (workspace)|

* Search

** In-Buffer

| Key     | Action                    |
|---------+---------------------------|
| =/=     | Search forward            |
| =?=     | Search backward           |
| =n=     | Next match                |
| =N=     | Previous match            |
| =*=     | Search word at point      |

** Project-wide

| Key         | Action                    |
|-------------+---------------------------|
| =SPC /=     | Search project (ripgrep)  |
| =SPC *=     | Search for symbol at point|
| =SPC s s=   | Search current buffer     |
| =SPC s p=   | Search project            |
| =SPC s i=   | Jump to symbol (imenu)    |

* LSP Features

LSP is automatically enabled for supported languages.

** Diagnostics

| Key       | Action                    |
|-----------+---------------------------|
| =SPC c x= | List all diagnostics      |
| =] e=     | Next error                |
| =[ e=     | Previous error            |

** Actions

| Key       | Action                    |
|-----------+---------------------------|
| =SPC c a= | Code actions menu         |
| =SPC c r= | Rename symbol             |
| =SPC c o= | Organize imports          |

* Windows / Buffers

** Windows

| Key           | Action                |
|---------------+-----------------------|
| =SPC w v=     | Split vertical        |
| =SPC w s=     | Split horizontal      |
| =SPC w c=     | Close window          |
| =SPC w m=     | Maximize window       |
| =C-w h/j/k/l= | Navigate windows      |

** Buffers

| Key       | Action                    |
|-----------+---------------------------|
| =SPC ,=   | Switch buffer (workspace) |
| =SPC b k= | Kill buffer               |
| =SPC b s= | Save buffer               |
| =SPC b n= | Next buffer               |
| =SPC b p= | Previous buffer           |

* Project Navigation

| Key         | Action                    |
|-------------+---------------------------|
| =SPC p p=   | Switch project            |
| =SPC p f=   | Find file in project      |
| =SPC SPC=   | Find file in project      |
| =SPC p s=   | Search in project         |

* Git (Magit)

| Key       | Action                    |
|-----------+---------------------------|
| =SPC g g= | Magit status              |
| =SPC g B= | Git blame                 |
| =SPC g ]= | Next hunk                 |
| =SPC g [= | Previous hunk             |

Inside Magit:
| Key   | Action                    |
|-------+---------------------------|
| =s=   | Stage file/hunk           |
| =u=   | Unstage                   |
| =c c= | Commit                    |
| =P p= | Push                      |
| =F p= | Pull                      |
| =TAB= | Expand/collapse           |
| =q=   | Quit                      |

* Daily Workflow

1. =SPC p p= - Switch to project
2. =SPC SPC= - Find file in project
3. =gd= - Jump to definition
4. =C-o= - Jump back
5. =gD= - Find references
6. =SPC /= - Search in project
7. =SPC g g= - Git status

* Finding Keybindings

Use =SPC h b b= to browse and search all keybindings interactively.
